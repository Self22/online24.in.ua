{"version":3,"names":[],"mappings":"","sources":["jquery.liLanding.js"],"sourcesContent":["/*\r\n * jQuery liLanding v 2.1\r\n *\r\n * Copyright 2013, Linnik Yura | LI MASS CODE | http://masscode.ru\r\n * Free to use\r\n *\r\n * Last Update: 19.06.2016\r\n */\r\n(function ($) {\r\n    var methods = {\r\n        init: function (options) {\r\n            var p = {\r\n                show: function (linkEl, landingItem) {\r\n                },\r\n                hide: function (linkEl, landingItem) {\r\n                },\r\n                topMargin: 0,\r\n                speedFactor: 1\r\n            };\r\n            if (options) {\r\n                $.extend(p, options);\r\n            }\r\n            return this.each(function () {\r\n                var el = $(this);\r\n                var elPos = el.offset().top;\r\n                var wHalf = $(window).height() / 2\r\n                var scrollId = function () {\r\n                };\r\n\r\n                //assign events only links with anchors\r\n                $('a[href^=#]', el).on('click', function () {\r\n                    var linkItem = $(this);\r\n                    if (!linkItem.is('.cur')) {\r\n                        var linkHref = linkItem.attr('href');\r\n                        var linkTarget = $(linkHref);\r\n                        var linkTargetPos = linkTarget.offset().top;\r\n                        var windowPos = $(window).scrollTop();\r\n                        var animDuration = linkTargetPos - windowPos\r\n                        if (animDuration < 0) {\r\n                            animDuration = animDuration * -1\r\n                        }\r\n                        //scroll the page to the desired block\r\n                        if (linkTarget.length) {\r\n                            $('html, body').stop(true).animate({scrollTop: (linkTargetPos - parseFloat(p.topMargin))}, animDuration * p.speedFactor, function () {\r\n                                $(window).trigger('scroll');\r\n                            });\r\n                        }\r\n                    }\r\n                    return false;\r\n                })\r\n                //stop the animation by scrolling\r\n                var mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? \"DOMMouseScroll\" : \"mousewheel\" //FF doesn't recognize mousewheel as of FF3.x\r\n                if (document.attachEvent) //if IE (and Opera depending on user setting)\r\n                    document.attachEvent(\"on\" + mousewheelevt, function (e) {\r\n                        $('html, body').stop(true);\r\n                    });\r\n                else if (document.addEventListener) //WC3 browsers\r\n                    document.addEventListener(mousewheelevt, function (e) {\r\n                        //e.detail //direction\r\n                        $('html, body').stop(true);\r\n                    }, false)\r\n                //highlight the desired link in the menu by scrolling\r\n                $(window).on('scroll', function (e) {\r\n                    clearTimeout(scrollId);\r\n                    var windowPos = $(window).scrollTop();\r\n                    if (windowPos > elPos) {\r\n                        el.addClass('landingFix');\r\n                    } else {\r\n                        el.removeClass('landingFix');\r\n                    }\r\n                    scrollId = setTimeout(function () {\r\n                        $('.landingItem').each(function () {\r\n                            var landingItem = $(this);\r\n                            var landingItemHeight = landingItem.height();\r\n                            var landingItemTop = landingItem.offset().top - wHalf;\r\n                            var linkHref = landingItem.attr('id');\r\n                            var linkEl = $('a[href=\"#' + linkHref + '\"]', el);\r\n                            var status;\r\n\r\n                            if (windowPos > landingItemTop && windowPos < (landingItemTop + landingItemHeight)) {\r\n                                if (!linkEl.is('.cur')) {\r\n                                    linkEl.addClass('cur');\r\n                                    if (p.show !== undefined) {\r\n                                        p.show(linkEl, landingItem);\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                if (linkEl.is('.cur')) {\r\n                                    linkEl.removeClass('cur');\r\n                                    if (p.hide !== undefined) {\r\n                                        p.hide(linkEl, landingItem);\r\n                                    }\r\n                                }\r\n                            }\r\n                        });\r\n                    }, 100);\r\n                })\r\n                $(window).trigger('scroll');\r\n            });\r\n        }\r\n    };\r\n    $.fn.liLanding = function (method) {\r\n        if (methods[method]) {\r\n            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\r\n        } else if (typeof method === 'object' || !method) {\r\n            return methods.init.apply(this, arguments);\r\n        } else {\r\n            $.error('Метод ' + method + ' в jQuery.liLanding не существует');\r\n        }\r\n    };\r\n})(jQuery);"],"file":"jquery.liLanding.js"}